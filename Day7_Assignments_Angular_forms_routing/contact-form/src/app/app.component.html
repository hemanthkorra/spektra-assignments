<div class="container">
  <h2>Template-Driven Form</h2>
  <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
    
    <!-- First Name -->
    <label for="first">First Name:</label>
    <input type="text" id="first" class="form-control" name="first" [(ngModel)]="user.first" required pattern="^[A-Za-z]+$" #first="ngModel"/>
    @if (first.invalid && first.touched) {
      <p class="error">
        @if (first.errors?.['required']) { First Name is required. }
        @if (first.errors?.['pattern']) { First Name must not contain numbers. }
      </p>
    }

    <!-- Last Name -->
    <label for="last">Last Name:</label>
    <input type="text" id="last" class="form-control" name="last" [(ngModel)]="user.last" required pattern="^[A-Za-z]+$" #last="ngModel"/>
    @if (last.invalid && last.touched) {
      <p class="error">
        @if (last.errors?.['required']) { Last Name is required. }
        @if (last.errors?.['pattern']) { Last Name must not contain numbers. }
      </p>
    }

    <!-- Email -->
    <label for="email">Email:</label>
    <input type="email" id="mail" class="form-control" name="mail" [(ngModel)]="user.mail" required email #mail="ngModel"/>
    @if (mail.invalid && mail.touched) {
      <p class="error">
        @if (mail.errors?.['required']) { Email is required. }
        @if (mail.errors?.['email']) { Enter a valid email. }
      </p>
    }

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary w-100" [disabled]="userForm.invalid">Submit</button>

    <!-- Success Message -->
    @if (submitted && userForm.valid) {
      <p>Form Submitted! Name: {{ user.first }} {{ user.last }}, Email: {{ user.mail }}</p>
    }

  </form>   
</div>

<router-outlet></router-outlet>
